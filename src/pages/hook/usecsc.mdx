# useCSC

El hook useCSC proporciona funcionalidad para seleccionar País, Estado y Ciudad, cargando dinámicamente los datos relacionados.

### Importación

Para importar el componente useCSC, se puede hacer desde fenextjs

```tsx copy
import { useCSC } from "fenextjs";
```

### Parámetros

| Parámetro              | Tipo                        | Requerido | Default | Descripcion                                                                                        |
| ---------------------- | --------------------------- | --------- | ------- | -------------------------------------------------------------------------------------------------- |
| defaultValue           | CSCProps                    | no        |         | Valor inicial opcional que define los datos CSC por defecto.                                       |
| value                  | CSCProps                    | no        |         | Objeto opcional que contiene el valor actual de los datos CSC seleccionados.                       |
| onChange               | (data: CSCProps) =\> void   | no        |         | Función de callback que se ejecuta al cambiar el valor CSC.                                        |
| defaultValueJsonString | string                      | no        |         | Valor inicial opcional en formato JSON string para los datos CSC.                                  |
| valueJsonString        | string                      | no        |         | Cadena JSON opcional que representa el valor actual de los datos CSC.                              |
| onChangeJsonString     | (data: string) =\> void     | no        |         | Función de callback que se ejecuta cuando los datos CSC en formato JSON cambian.                   |
| parseJson_to_String    | (data: CSCProps) =\> string | no        |         | Función para convertir CSCProps a una cadena JSON, usa parseCSC_to_CSCString si no se proporciona. |
| parseString_to_Json    | (data: string) =\> CSCProps | no        |         | Función para convertir una cadena JSON a CSCProps, usa parseCSCString_to_CSC si no se proporciona. |

### Returns

| Parametro    | Tipo                                                                                        | Descripcion                                                                                                         |
| ------------ | ------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------- |
| countrys     | CountryProps[]                                                                              | Array de países cargados para selección.                                                                            |
| states       | StateProps[]                                                                                | Array de estados cargados para selección, según el país seleccionado.                                               |
| citys        | CityProps[]                                                                                 | Array de ciudades cargadas para selección, según el estado seleccionado.                                            |
| onChangeCSC  | (id: keyof CSCProps) =\> (v: CountryProps \| StateProps \| CityProps \| undefined) =\> void | Función para actualizar los datos CSC seleccionados, cargando automáticamente estados o ciudades según corresponda. |
| value        | CSCProps                                                                                    | Valor actual de los datos CSC seleccionados, combinado de los datos recibidos y el valor por defecto.               |
| loadCountrys | boolean                                                                                     | Indica si los datos de países están cargando.                                                                       |
| loadStates   | boolean                                                                                     | Indica si los datos de estados están cargando.                                                                      |
| loadCitys    | boolean                                                                                     | Indica si los datos de ciudades están cargando.                                                                     |

### Usos

- Uso básico

```tsx copy
const { onChangeCSC, value } = useCSC({
  defaultValue: {
    country: {
      id: 42,
      text: "México",
      code: "MX",
      code_phone: "+52",
    },
  },
});
onChangeCSC("country")({
  id: 82,
  text: "Colombia",
  code: "CO",
  code_phone: "+57",
});
```

- Cambiar ciudad

```tsx copy
const { onChangeCSC } = useCSC();
onChangeCSC("city")({
  id: 465167,
  id_state: 1700,
  text: "Medellín",
  id_country: 82,
  nameAve: "MEDELLIN(ANTIOQUIA)",
});
```
